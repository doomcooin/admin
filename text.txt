/ import { config } from "dotenv";
// config();
// import TelegramBot from "node-telegram-bot-api";
// import { InlineKeyboard, Bot, GrammyError, HttpError, Keyboard } from "grammy";
// const webAppUrl = "https://biznewschannel.com/";
// const botToken = new Bot(process.env.BOT_API_KEY);

// // bot.command("start", async (ctx) => {
// //   const startKeyboard = new Keyboard()
// //     .text("–û–ø–ª–∞—Ç–∏—Ç—å –∫—Ä–∏–ø—Ç–æ–π")
// //     .row()
// //     .text("Stripe")
// //     .row()
// //     .text("–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è")
// //     .resized();
// //   await ctx.reply("–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é!");
// //   await ctx.reply("–û–∫—É–Ω–∏—Å—å –≤ –º–∏—Ä –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —Å–æ–±—ã—Ç–∏–π!",{
// //     reply_markup: startKeyboard,
// //   });
// // });

// // bot.hears(["–û–ø–ª–∞—Ç–∏—Ç—å –∫—Ä–∏–ø—Ç–æ–π", "Stripe", "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"], async (ctx) => {
// //   const inlineKeyboard = new InlineKeyboard()
// //     .text("Click me", 
// //     JSON.stringify({
// //          type:ctx.message.text,
// //          questionId: 1,
// //          }),
// //     )
// //     .text("–û—Ç–º–µ–Ω–∏—Ç—å", "cancel");
// //   await ctx.reply(`Hello! ${ctx.message.text} `, {
// //     reply_markup: inlineKeyboard,
// //   });
// // });

// // bot.on("callback_query:data", async (ctx) => {
// //  if(ctx.callbackQuery.data === "cancel"){
// //    await ctx.reply("–û—Ç–º–µ–Ω–µ–Ω–æ!")
// //    await ctx.answerCallbackQuery()
// //    return;
// //  }
// //  const callbackData = JSON.parse(ctx.callbackQuery.data);
// //  await ctx.reply(` ${callbackData.type} - —ç—Ç–æ –∫—Ä—É—Ç–æ!`);
// //  await ctx.answerCallbackQuery()
// // });

// const bot = new TelegramBot(botToken);


// bot.on("message", async (msg) => {
  
//   const chatId = msg.chat.id;
//   const text = msg.text;

//   if (text === "/start") {
//     await bot.sendMessage(
//       chatId,
//       `<i>–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç</i> <b>SettingNewsBot - –±–æ—Ç –¥–ª—è –ø–æ—Å—Ç–∏–Ω–≥–∞</b><i> –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π ,–ø—É–±–ª–∏–∫–∞—Ü–∏–π –∏ —Å—Ç–∞—Ç–µ–π </i> <b><a href="https://biznewschannel.com/video">–ø–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–∞ —Å–∞–π—Ç–µ</a></b>`,
//       {
//         parse_mode: "HTML",
//         reply_markup: {
//           keyboard: [
//             [
             

//               { text: "üåê –û–ø–ª–∞—Ç–∞ –∫—Ä–∏–ø—Ç–æ–π" },
//               { text: "üì∞ –ü–æ—Å—Ç–∏–Ω–≥", web_app: { url: webAppUrl } },
//             ],
//             [{ text: "üí≥ –û–ø–ª–∞—Ç–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç" }],
//             [{ text: "üîç –ó–∞–ø—Ä–æ—Å –∫ API Crypto Pay" }],
            
//             [{ text: "–°–æ–∑–¥–∞—Ç—å —Å—á–µ—Ç", callback_data: "create_invoice" }],
            
//             [{ text: "–ó–∞–∫—Ä—ã—Ç—å" }],
//           ],
//         },
//       }
//     );
//   }
// });





// bot.startPolling();













// bot.catch((err) => {
//   const ctx = err.ctx;
//   console.error(`Error while handling update ${ctx.update.update_id}:`);
//   const e = err.error;
//   if (e instanceof GrammyError) {
//     console.error("Error in request:", e.description);
//   } else if (e instanceof HttpError) {
//     console.error("Could not contact Telegram:", e);
//   } else {
//     console.error("Unknown error:", e);
//   }
// });

// bot.start();
// bot.on("callback_query", async (callbackQuery) => {
//   const chatId = callbackQuery.message.chat.id;
//   const data = callbackQuery.data;

//   if (data === "pay_standard") {
//     // –ó–¥–µ—Å—å –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ –∫–æ–¥ –¥–ª—è –æ–ø–ª–∞—Ç—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞
//     // –ù–∞–ø—Ä–∏–º–µ—Ä, –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ payStandard()
//     await bot.answerCallbackQuery(callbackQuery.id, { text: "–û–ø–ª–∞—Ç–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–∞–∫–µ—Ç–∞" });
//   } else if (data === "api_request") {
//     // –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ API Crypto Pay
//     await makeApiRequest(chatId);
//     await bot.answerCallbackQuery(callbackQuery.id, { text: "–ó–∞–ø—Ä–æ—Å –∫ API Crypto Pay" });
//   }
// });

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ API Crypto Pay




// async function makeApiRequest(chatId) {
//   try {
//     const response = await axios.get("https://fake-api-for-testing.com/getMe", {
//       headers: {
//         'Crypto-Pay-API-Token': '158118:AAwsLcGqviK9MwvLOD8TCtwZqllzbeXLXYL',
//       },
//     });

//     // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
//     await bot.sendMessage(chatId, `–û—Ç–≤–µ—Ç –æ—Ç API Crypto Pay: ${JSON.stringify(response.data)}`);
//   } catch (error) {
//     console.log(error)
//     await bot.sendMessage(chatId, `–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ API Crypto Pay: ${error.message}`);
//   }
// }

// async function createInvoice() {
//   try {
//     const response = await axios.post("https://fake-api-for-testing.com/createInvoice", {
//       asset: 'USDT',
//       amount: '10.00',
//       currency_type: 'crypto',
//       description: '–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞',
//     }, {
//       headers: {
//         'Crypto-Pay-API-Token': '158118:AAwsLcGqviK9MwvLOD8TCtwZqllzbeXLXYL',
//         'Content-Type': 'application/json',
//       },
//     });

//     // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
//     console.log('–°–æ–∑–¥–∞–Ω —Å—á–µ—Ç:', response.data);
//   } catch (error) {
//     // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
//     console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—á–µ—Ç–∞:', error.message);
//   }
// }

// –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—á–µ—Ç–∞
// createInvoice();





//STRIPE

// const STRIPE_SECRET_KEY = "sk_test_51OazU7CEAUiVgq2v9f36loao1miREJDYbgb7nrsoQkm7wyO7irQqNU0j6STMvM8D5oF2HkSralI1SyfcbfNgRJ9X00vvJkSUO1";
// const stripeInstance = stripe(STRIPE_SECRET_KEY);

//const payment_token = "5334985814:TEST:551862";

//STRIPE STARDANT
// bot.onText(/\/paystandart/, async (msg) => {
//   const chatId = msg.chat.id;

//   const session = await stripeInstance.checkout.sessions.create({
//     payment_method_types: ["card"],
//     line_items: [
//       {
//         price_data: {
//           currency: "usd",
//           product_data: {
//             name: "Product Name",
//           },
//           unit_amount: 1000,
//         },
//         quantity: 1,
//       },
//     ],
//     mode: "payment",
//     success_url: "https://biznewschannel.com/good",
//     cancel_url: "https://biznewschannel.com/no",
//   });

//   bot.sendMessage(
//     chatId,
//     `<i>–û–ø–ª–∞—Ç–∏—Ç–µ –ø–∞–∫–µ—Ç</i> <b>C—Ç–∞–Ω–¥–∞—Ä—Ç</b> <i>–ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ:</i>${session.url}`,
//     { parse_mode: "HTML" }
//   );
// });
// //STRIPE BUSINESS
// bot.onText(/\/paybusiness/, async (msg) => {
//   const chatId = msg.chat.id;

//   const session = await stripeInstance.checkout.sessions.create({
//     payment_method_types: ["card"],
//     line_items: [
//       {
//         price_data: {
//           currency: "usd",
//           product_data: {
//             name: "Product Name",
//           },
//           unit_amount: 1000,
//         },
//         quantity: 1,
//       },
//     ],
//     mode: "payment",
//     success_url: "https://biznewschannel.com/good",
//     cancel_url: "https://biznewschannel.com/no",
//   });

//   bot.sendMessage(
//     chatId,
//     `<i>–û–ø–ª–∞—Ç–∏—Ç–µ –ø–∞–∫–µ—Ç</i> <b>–ë–∏–∑–Ω–µ—Å</> <i>–ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ:</i>${session.url}`,
//     { parse_mode: "HTML" }
//   );
// });
// //STRIPE PREMIUM
// bot.onText(/\/paypremium/, async (msg) => {
//   const chatId = msg.chat.id;

//   const session = await stripeInstance.checkout.sessions.create({
//     payment_method_types: ["card"],
//     line_items: [
//       {
//         price_data: {
//           currency: "usd",
//           product_data: {
//             name: "Product Name",
//           },
//           unit_amount: 1000,
//         },
//         quantity: 1,
//       },
//     ],
//     mode: "payment",
//     success_url: "https://biznewschannel.com/good",
//     cancel_url: "https://biznewschannel.com/no",
//   });

//   bot.sendMessage(
//     chatId,
//     `<i>–û–ø–ª–∞—Ç–∏—Ç–µ –ø–∞–∫–µ—Ç </i><b>–ü—Ä–µ–º–∏—É–º</b><i> –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Å—ã–ª–∫–µ:</i>${session.url}`,
//     { parse_mode: "HTML" }
//   );
// });